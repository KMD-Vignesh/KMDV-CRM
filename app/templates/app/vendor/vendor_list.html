{% extends 'app/base/base.html' %} 
{% block title %}Vendors{% endblock %}
{% block content %}
  {% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      <p style="color: green;">{{ message }}</p>
    </div>
  {% endfor %}
{% endif %}
<div class="page-header">
  <h1>Vendors</h1>
  <a class="btn-add" href="{% url 'add_vendor' %}">Add Vendor</a>
</div>
<table class="dv-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Address</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    {% for vendor in vendors %}
    <tr>
      <td>{{ vendor.name|title }}</td>
      <td>{{ vendor.address|default:"No address"|title }}</td>
      <td class="actions">
        <a class="btn" href="{% url 'edit_vendor' vendor.pk %}">Edit</a>
        <a class="btn danger" href="{% url 'delete_vendor' vendor.pk %}"
          >Delete</a
        >
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="3" style="text-align: center">No vendors available.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<script>
  document.querySelectorAll("ul li").forEach((li) => {
    li.addEventListener(
      "mouseover",
      () => (li.style.backgroundColor = "#d5e8f5")
    );
    li.addEventListener(
      "mouseout",
      () => (li.style.backgroundColor = "#ecf0f1")
    );
  });
</script>
{% endblock %}
